------------------------------------------------------
--  Clock Divider by Samuel Daurat [178190]  --

-- This module generates a slower clock fron the system clock


-- Changelogs:
-- Version 1.0 | 27.11.17
--  *initial release
------------------------------------------------------

-- Library Declaration --
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;


--------------------------------------------
--	   ENTITY	                           --
--------------------------------------------
ENTITY ClockDivider IS
PORT(
						
													--Hardware clock
	clk_in		:		IN		std_logic;
													--divided clock
	clk_out		:		OUT	std_logic;
	);
END ClockDivider;

--------------------------------------------
--        ARCHITECTURE	                    --
--------------------------------------------
ARCHITECTURE behave OF ClockDivider IS

	signal clock_divider: integer range 0 to 100000005 :=0;

BEGIN

-- Registered Process --
convert_proc : PROCESS (clk)
	BEGIN
	
		IF (clk'EVENT AND clk='1' AND clk'LAST_VALUE='0') THEN
			
			clock_divider <= clock_divider+1;	--Divide the clock
			IF clock_divider>5000000 THEN			--with this value we will generate a 10Hz clock
				clock_divider <= 0;
				clk_out <= NOT clk_out;
			END IF;
			
		END IF;
		
	END PROCESS convert_proc;

END behave;
